<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- NeuroPACS SDK -->
    <!-- <script src="https://neuropacs.com/js/src/neuropacs.js"></script> -->
    <script src="../src/neuropacs.js"></script>

    <title>NeuroPACS SDK Job Actions Example</title>
  </head>
  <body>
    <script>
      async function main() {
        const apiKey = "m0ig54amrl87awtwlizcuji2bxacjm";
        const serverUrl =
          "https://sl3tkzp9ve.execute-api.us-east-2.amazonaws.com/v2";
        const productId = "PD/MSA/PSP-v1.0";
        const client = "API";
        const format = "XML";

        const npcs = Neuropacs.init(serverUrl, apiKey);

        // CONNECT TO NEUROPACS
        const conn = await npcs.connect();
        console.log(conn);

        // const arr = [
        //   "woo_I0",
        //   "woo_I2",
        //   "woo_I3",
        //   "woo_I4",
        //   "woo_I7",
        //   "woo_I8",
        //   "SHOULD_BE_MISSING",
        //   "TestSEIUNF",
        //   "woo_I9",
        //   "woo_I10",
        //   "woo_I11"
        // ];

        // const valDat = await npcs.validateUpload(
        //   arr,
        //   "AHw8Wqpb2Ts8ffeTvlAR",
        //   "I2C1mIU8IsiFwkTZfpsd"
        // );
        // console.log(valDat);

        // RUN A JOB
        const order = await npcs.runJob(
          productId,
          "db7058bd-6b90-45eb-b671-be2d9082bed3",
          "db7058bd-6b90-45eb-b671-be2d9082bed3"
        );
        console.log(order);

        // const status = await npcs.checkStatus(
        //   "bTvdOZfu6bxOLlTZQFIt",
        //   "bTvdOZfu6bxOLlTZQFIt"
        // );
        // console.log(status);

        // const results = await npcs.getResults(
        //   "TXT",
        //   "AUgmfovsLEryAohPj4Bz",
        //   "AUgmfovsLEryAohPj4Bz"
        // );
        // console.log(results);
      }
      // main();
    </script>
  </body>
</html>
